# Requirements Definition　1.要件定義書

# 要件定義

## プロジェクト概要

本プロジェクトは、Raspberry Piを活用してフォトフレーム機能と写真撮影機能を統合したインタラクティブなデバイスを開発することを目的としています。ユーザーは自動スライドショーや音声操作による写真撮影機能を通じて、手軽に写真を楽しむことができます。また、音声認識によるモード切り替えやNAS機能を搭載し、利便性と拡張性を高めています。

## プロジェクト名

Raspberry Pi フォトフレーム & 写真撮影機能

## 目的

Raspberry Piを使用して、フォトフレームとしての機能と写真撮影機能を統合したインタラクティブなデバイスを実現し、ユーザーに新しい写真体験を提供すること。

## 参考サイト

- [Qiita: Raspberry Pi フォトフレームプロジェクト](https://qiita.com/Yurix/items/7b9a9f38ba17c0e45b4a)
- [Raspberry Piと400円のUSBマイクで作るボイスチェンジャーで子供と遊ぶ](https://qiita.com/Nabeshin/items/5a904fe0baf76a9bf651)


## スコープ

### 含まれる機能

- フォトフレーム機能
- 写真撮影機能
- 音声認識によるモード切り替えおよび操作
- NAS機能（ネットワーク接続およびファイル共有）

### 含まれない機能

- 高度な画像編集機能
- モバイルアプリとの連携

## 主な機能

### 1. フォトフレーム機能

- **自動スライドショー**: 画像をスライドショー形式で自動的に表示。
- **一定時間無操作時の切り替え**: 一定時間操作がない場合、自動的にフォトフレームモードに切り替わる。

### 2. 写真撮影機能

- **音声操作による撮影**: ユーザーが音声コマンドを使用して写真を撮影できる。
- **笑顔検出機能**: 1人が笑顔になった場合、3カウントを表示してから写真を撮影する。
- **自動保存**: 撮影した画像を自動で保存し、フォトフレームのスライドショーに組み込む。

### 3. 音声認識によるモード切り替えおよび操作

- **音声コマンド**: 特定のキーワード（例：「フォトフレームモードに切り替え」、「写真撮影モードに切り替え」、「写真撮影」）を使用して、モードを切り替えたり写真を撮影したりする。

### 4. NAS機能

- **ネットワーク接続**: Raspberry Piをネットワークに接続し、他のデバイスからアクセス可能にする。
- **ファイル共有**: SambaやFTPを利用し、他のデバイスから写真をアップロード・ダウンロードできる。
- **ウェブインターフェース**: ブラウザから写真の管理ができるインターフェースを提供。

## 技術仕様

### ハードウェア

- **Raspberry Pi**: モデルはRaspberry Pi 4を推奨。
- **カメラモジュール**: Raspberry Pi Camera Module V2。
- **ディスプレイ**: HDMI接続用モニター（サイズはユーザーの選択に応じて）。
- **ネットワーク接続**: Wi-Fiまたは有線LANアダプター。
- **入力デバイス**: マイク（高品質な音声入力が可能なもの）。

### ソフトウェア

- **オペレーティングシステム**: Raspberry Pi OS（最新安定版）。
- **プログラミング言語**: Python 3.x。
- **使用ライブラリ**:
  - OpenCV（顔・笑顔検出用）
  - SpeechRecognition（音声認識用）
  - Flask（ウェブインターフェース用）
  - SambaまたはFTP（ファイル共有用）
- **その他ツール**:
  - Git（バージョン管理）
  - systemd（サービス管理：python自動起動）

## 非機能要件

### パフォーマンス

- リアルタイムでの顔・笑顔検出を実現するため、適切な最適化を行う。
- スライドショーの遅延を最小限に抑える。
- 音声認識の精度と応答速度を確保する。

### セキュリティ

- NAS機能におけるファイル共有の認証を強化。
- ウェブインターフェースへのアクセス制限を設定。
- 音声コマンドの誤認識を防ぐためのフィルタリングを実装。

### ユーザビリティ

- 簡単に音声で操作できるユーザーインターフェースを提供。
- 設定変更やファームウェアの更新が容易に行える設計。

### 信頼性

- システム障害時の自動再起動機能を実装。
- エラーログの記録と通知機能を搭載。

## ユーザーインターフェース要件

### フォトフレームモード

- 画像表示エリア
- 現在のモード表示
- 音声コマンド受付表示

### 写真撮影モード

- プレビュー画面
- 撮影カウントダウン表示
- 音声コマンド受付表示

### ウェブインターフェース

- 写真のアップロード・ダウンロード機能
- フォトフレームの設定管理
- ユーザー認証機能

## 制約条件

- プロジェクト期間は2週間以内。
- 使用するハードウェアは予算内で調達可能なものとする。
- ソフトウェアはオープンソースライブラリを中心に活用。
- 入力デバイスはマイクのみに限定する。

## 仮定事項

- 使用するネットワーク環境が安定していること。
- 必要なハードウェアコンポーネントが入手可能であること。
- ユーザーが基本的な音声コマンドの使用方法を理解していること。

## リスク管理

- **ハードウェア故障**: 予備の部品を用意し、早期に交換可能な体制を整える。
- **ソフトウェアのバグ**: 定期的なテストを実施し、バグの早期発見と修正を行う。
- **音声認識の誤動作**: 音声コマンドの精度を向上させるための調整を行う。
- **スケジュール遅延**: タスクを細分化し、進捗を定期的に確認する。

## 進捗管理

- **タスク分解**: 各機能ごとにタスクを分割し、優先順位を設定。
- **スケジュール作成**: 2週間の期間内で各タスクの完了目標を設定。
- **定期ミーティング**: 進捗確認と問題点の共有を行う。

## 成果物

以下のディレクトリ構造で成果物を整理します。
├── README.md               # プロジェクトの概要説明
├── src/                    # ソースコードのディレクトリ
│   ├── main.py             # メインプログラム
│   └── utils.py            # 補助的な機能をまとめたモジュール
│
├── docs/                   # ドキュメント用のディレクトリ
│   ├── requirements.md     # 要件定義書
│   ├── design.md           # 設計書
│   ├── implementation.md   # 実装メモ
│   └── test_plan.md        # テスト計画書


### 詳細説明

- **README.md**: プロジェクトの概要、目的、使用方法などを記載します。
- **src/**: ソースコードを格納するディレクトリ。
  - **main.py**: メインプログラムファイル。プロジェクトのエントリーポイント。
  - **utils.py**: 補助的な機能や共通モジュールをまとめたファイル。
- **docs/**: ドキュメントを格納するディレクトリ。
  - **requirements.md**: 要件定義書。
  - **design.md**: システム設計に関するドキュメント。
  - **implementation.md**: 実装に関するメモや詳細。
  - **test_plan.md**: テスト計画書。

## 開発環境

- **開発ツール**: Visual Studio Code、Git
- **バージョン管理**: GitHubを使用したリポジトリ管理
- **テスト環境**: Raspberry Pi上での実機テスト

## ステークホルダー

- **ユーザー**: 西原家
- **開発者**: 夫
- **デバッガー**: 妻
- **指導教官**: プロジェクトの進行管理および技術的サポート
- **その他**: 最終的なデバイスの利用者

---

